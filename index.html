<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Werkverdelingsapp - MBO Onderwijs</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Albert+Sans:wght@700&family=Dancing+Script:wght@700&family=Inter:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Firebase SDK -->
    <script type="module">
        // Import Firebase modules
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.8.0/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, signOut, onAuthStateChanged, createUserWithEmailAndPassword, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/11.8.0/firebase-auth.js";
        import { getFirestore, collection, doc, getDoc, getDocs, setDoc, updateDoc, deleteDoc, onSnapshot, query, where } from "https://www.gstatic.com/firebasejs/11.8.0/firebase-firestore.js";

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAOHctdc5qdXHXHf7AcizdsrQTNMmaKzaM",
            authDomain: "werkverdelingsapp.firebaseapp.com",
            projectId: "werkverdelingsapp",
            storageBucket: "werkverdelingsapp.firebasestorage.app",
            messagingSenderId: "593028785916",
            appId: "1:593028785916:web:80f5a830a058994decd979",
            measurementId: "G-6EJBW4QG7B"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // Expose Firebase to global scope for use in app.js
        window.firebaseApp = app;
        window.firebaseAuth = auth;
        window.firebaseDb = db;

        // Expose Firebase functions globally
        window.firebaseFunctions = {
            // Auth functions
            signInWithEmailAndPassword,
            signOut,
            onAuthStateChanged,
            createUserWithEmailAndPassword,
            sendPasswordResetEmail,
            // Firestore functions
            collection,
            doc,
            getDoc,
            getDocs,
            setDoc,
            updateDoc,
            deleteDoc,
            onSnapshot,
            query,
            where
        };

        // Signal that Firebase is ready
        window.firebaseReady = true;
        window.dispatchEvent(new Event('firebase-ready'));

        console.log('Firebase initialized successfully!');
    </script>

    <!-- SheetJS for Excel export -->
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>
</head>

<body>
    <div class="app-container">
        <!-- Navigation -->
        <nav class="main-nav">
            <div class="nav-brand">
                <img src="assets/logo-transparant.png" alt="" class="brand-logo">
                <h1>Werkverdelingsapp</h1>
            </div>
            <div class="nav-tabs">
                <button class="nav-tab" data-view="admin" data-role="admin" style="display:none">
                    <span class="tab-icon">‚öôÔ∏è</span>
                    Admin
                </button>
                <button class="nav-tab" data-view="curriculum" data-role="admin" style="display:none">
                    <span class="tab-icon">üìö</span>
                    Lessenbeheer
                </button>
                <button class="nav-tab" data-view="takenbeheer" data-role="admin" style="display:none">
                    <span class="tab-icon">üìù</span>
                    Takenbeheer
                </button>
                <button class="nav-tab" data-view="docenten" style="display:none">
                    <span class="tab-icon">üë•</span>
                    Teamledenoverzicht
                </button>
                <button class="nav-tab active" data-view="klassen">
                    <span class="tab-icon">üè´</span>
                    Lessen
                </button>
                <button class="nav-tab" data-view="taken">
                    <span class="tab-icon">‚òëÔ∏è</span>
                    Taken
                </button>
                <button class="nav-tab" data-view="verdeling">
                    <span class="tab-icon">üë§</span>
                    Dummy PvI's
                </button>
                <button class="nav-tab" data-view="dashboard">
                    <span class="tab-icon">üìä</span>
                    Dashboard
                </button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">

            <!-- Admin View -->
            <section class="view" id="view-admin">
                <!-- Team Switcher at top right -->
                <div class="admin-top-bar">
                    <div class="team-switcher" id="team-switcher" style="display: none;">
                        <label>Actief team:</label>
                        <select id="active-team-select" onchange="switchActiveTeam(this.value)">
                            <option value="">-- Selecteer team --</option>
                        </select>
                    </div>
                </div>

                <div class="admin-layout-clean">
                    <!-- LEFT COLUMN: Users -->
                    <div class="admin-main-section">
                        <div class="admin-section-header">
                            <h3>üë• Gebruikers</h3>
                        </div>

                        <div class="admin-form-compact">
                            <div class="form-row">
                                <input type="text" id="new-user-afkorting" placeholder="Afkorting">
                                <input type="password" id="new-user-password" placeholder="Wachtwoord">
                                <select id="new-user-team">
                                    <option value="">Team</option>
                                </select>
                                <select id="new-user-role">
                                    <option value="teamlid">Teamlid</option>
                                    <option value="teamleider">Teamleider</option>
                                    <option value="onderwijsplanner">Planner</option>
                                    <option value="admin">Admin</option>
                                </select>
                            </div>
                            <div class="form-row">
                                <input type="number" id="new-user-fte" placeholder="Bruto FTE" step="0.01" min="0"
                                    max="1.5">
                                <input type="number" id="new-user-inhouding" placeholder="Inhouding" step="0.01" min="0"
                                    max="1.5">
                                <input type="text" id="new-user-docenttype" placeholder="Docenttype">
                                <button class="btn btn-primary btn-sm" onclick="createNewUser()">
                                    <span>‚ûï</span> Toevoegen
                                </button>
                            </div>
                        </div>

                        <div id="users-list" class="users-list-clean">
                            <p class="empty-state">Laden...</p>
                        </div>
                    </div>

                    <!-- RIGHT COLUMN: Schooljaren + Teams + Data -->
                    <div class="admin-side-section">
                        <!-- Schooljaren -->
                        <div class="admin-card-compact">
                            <div class="admin-section-header">
                                <h4>üìÖ Schooljaren</h4>
                            </div>
                            <div class="schooljaar-form">
                                <div class="form-row compact">
                                    <input type="text" id="new-schooljaar-naam" placeholder="26-27" style="width:60px"
                                        maxlength="5">
                                    <span class="form-label-inline">Basis:</span>
                                    <input type="number" id="sj-basis-1" value="8" min="1" max="20"
                                        class="week-input-small" title="P1">
                                    <input type="number" id="sj-basis-2" value="8" min="1" max="20"
                                        class="week-input-small" title="P2">
                                    <input type="number" id="sj-basis-3" value="8" min="1" max="20"
                                        class="week-input-small" title="P3">
                                    <input type="number" id="sj-basis-4" value="8" min="1" max="20"
                                        class="week-input-small" title="P4">
                                </div>
                                <div class="form-row compact">
                                    <span style="width:60px"></span>
                                    <span class="form-label-inline">Periode:</span>
                                    <input type="number" id="sj-periode-1" value="10" min="1" max="20"
                                        class="week-input-small" title="P1">
                                    <input type="number" id="sj-periode-2" value="10" min="1" max="20"
                                        class="week-input-small" title="P2">
                                    <input type="number" id="sj-periode-3" value="10" min="1" max="20"
                                        class="week-input-small" title="P3">
                                    <input type="number" id="sj-periode-4" value="10" min="1" max="20"
                                        class="week-input-small" title="P4">
                                    <button class="btn btn-primary btn-xs" onclick="createSchooljaar()">‚ûï</button>
                                </div>
                            </div>
                            <div id="schooljaren-list" class="schooljaren-list-compact">
                                <p class="empty-state small">Laden...</p>
                            </div>
                        </div>

                        <!-- Teams -->
                        <div class="admin-card-compact">
                            <div class="admin-section-header">
                                <h4>üè¢ Teams</h4>
                            </div>
                            <div class="form-row compact">
                                <input type="text" id="new-team-name" placeholder="Team naam" style="flex:2">
                                <select id="new-team-schooljaar" style="flex:1">
                                    <option value="">Schooljaar</option>
                                </select>
                                <button class="btn btn-primary btn-xs" onclick="createNewTeam()">‚ûï</button>
                            </div>
                            <div id="teams-list" class="teams-list-compact">
                                <p class="empty-state small">Laden...</p>
                            </div>
                        </div>

                        <!-- Save States -->
                        <div class="admin-card-compact">
                            <div class="admin-section-header">
                                <h4>üíæ States</h4>
                            </div>
                            <div class="form-row compact">
                                <input type="text" id="save-state-name" placeholder="State naam">
                                <button class="btn btn-primary btn-xs" onclick="smartSaveState()">üíæ</button>
                            </div>
                            <div id="saved-states-list" class="saved-states-list-compact">
                                <p class="empty-state small">Geen states</p>
                            </div>
                        </div>

                        <!-- Import/Export -->
                        <div class="admin-card-compact">
                            <div class="admin-section-header">
                                <h4>üì§ Data</h4>
                            </div>
                            <div class="admin-data-buttons">
                                <button class="btn btn-secondary btn-xs" onclick="exportToFile()">üì• Export</button>
                                <input type="file" id="import-file-input" accept=".json" style="display:none"
                                    onchange="importFromFile(event)">
                                <button class="btn btn-secondary btn-xs"
                                    onclick="document.getElementById('import-file-input').click()">üì§ Import</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Curriculum View -->
            <section class="view" id="view-curriculum">

                <div class="curriculum-layout">
                    <!-- Left column: Forms -->
                    <div class="forms-column">
                        <!-- Week Info Display (Read-Only from Admin) -->
                        <div class="card info-card-compact" id="week-info-card" title="">
                            <div class="week-info-display">
                                <span class="week-info-label">üìÖ Schooljaar:</span>
                                <span class="week-info-value" id="display-schooljaar">-</span>
                                <span class="week-info-separator">|</span>
                                <span class="week-info-label">Basisweken:</span>
                                <span class="week-info-value" id="display-basisweken">P1:8, P2:8, P3:8, P4:8</span>
                            </div>
                        </div>

                        <!-- Leerjaren Form -->
                        <div class="card form-card">
                            <h3>üéì Leerjaren en klassen aanmaken</h3>
                            <form id="form-leerjaar">
                                <div class="form-group">
                                    <label for="leerjaar-naam">Naam leerjaar</label>
                                    <input type="text" id="leerjaar-naam" placeholder="bijv. CMD Jaar 1" required>
                                    <small class="form-hint">Geef het leerjaar een unieke naam</small>
                                </div>
                                <div class="form-row-2">
                                    <div class="form-group">
                                        <label for="leerjaar-prefix">Prefix klascode</label>
                                        <input type="text" id="leerjaar-prefix" placeholder="bijv. 1CMD" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="leerjaar-klassen">Aantal klassen</label>
                                        <input type="number" id="leerjaar-klassen" min="1" max="20" value="1" required>
                                    </div>
                                </div>
                                <small class="form-hint">Klassen worden: prefix + nummer (bijv. 1CMD1, 1CMD2,
                                    etc.)</small>
                                <button type="submit" class="btn btn-secondary">
                                    <span>‚ûï</span> Leerjaar aanmaken
                                </button>
                            </form>

                            <!-- Leerjaren Overview -->
                            <div id="leerjaren-lijst" class="leerjaren-lijst">
                            </div>
                        </div>

                        <!-- Add Subject Form -->
                        <div class="card form-card">
                            <h3>‚ûï Les toevoegen</h3>
                            <form id="form-vak">
                                <div class="form-group">
                                    <label for="vak-leerjaar">Leerjaar</label>
                                    <select id="vak-leerjaar" required>
                                        <option value="">-- Selecteer leerjaar --</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label for="vak-naam">Lestitel</label>
                                    <input type="text" id="vak-naam" placeholder="bijv. Co-creatie" required>
                                </div>

                                <div class="form-group">
                                    <label for="vak-kleur">Kleur</label>
                                    <div class="color-picker">
                                        <input type="color" id="vak-kleur" value="#4CAF50">
                                        <div class="color-presets">
                                            <button type="button" class="color-preset" data-color="#4CAF50"
                                                style="background:#4CAF50"></button>
                                            <button type="button" class="color-preset" data-color="#2196F3"
                                                style="background:#2196F3"></button>
                                            <button type="button" class="color-preset" data-color="#9C27B0"
                                                style="background:#9C27B0"></button>
                                            <button type="button" class="color-preset" data-color="#FF9800"
                                                style="background:#FF9800"></button>
                                            <button type="button" class="color-preset" data-color="#E91E63"
                                                style="background:#E91E63"></button>
                                            <button type="button" class="color-preset" data-color="#00BCD4"
                                                style="background:#00BCD4"></button>
                                            <button type="button" class="color-preset" data-color="#795548"
                                                style="background:#795548"></button>
                                            <button type="button" class="color-preset" data-color="#607D8B"
                                                style="background:#607D8B"></button>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="vak-opslagfactor">Opslagfactor VZNZ (%)</label>
                                    <input type="number" id="vak-opslagfactor" min="0" max="100" value="40">
                                    <small class="form-hint">Standaard 40%</small>
                                </div>

                                <div class="form-group">
                                    <label>Les aanmaken in</label>
                                    <div class="toggle-switch-container">
                                        <span class="toggle-label toggle-label-left active"
                                            data-value="basisweken">basisweken</span>
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="vak-type-toggle">
                                            <span class="toggle-slider"></span>
                                        </label>
                                        <span class="toggle-label toggle-label-right"
                                            data-value="ontwikkelweken">ontwikkelweken</span>
                                        <input type="hidden" name="vak-type" id="vak-type-value" value="basisweken">
                                    </div>
                                    <label id="eenheden-label" style="margin-top: var(--space-md);">Aantal eenheden per
                                        basisweek</label>
                                </div>

                                <!-- Basisweken periodes -->
                                <div id="basisweken-inputs" class="form-row">
                                    <div class="form-group">
                                        <label for="vak-p1">P1</label>
                                        <input type="number" id="vak-p1" min="0" value="0">
                                    </div>
                                    <div class="form-group">
                                        <label for="vak-p2">P2</label>
                                        <input type="number" id="vak-p2" min="0" value="0">
                                    </div>
                                    <div class="form-group">
                                        <label for="vak-p3">P3</label>
                                        <input type="number" id="vak-p3" min="0" value="0">
                                    </div>
                                    <div class="form-group">
                                        <label for="vak-p4">P4</label>
                                        <input type="number" id="vak-p4" min="0" value="0">
                                    </div>
                                </div>

                                <!-- Ontwikkelweken periodes -->
                                <div id="ontwikkelweken-inputs" class="ow-inputs" style="display: none;">
                                    <div class="form-row-2">
                                        <div class="form-group">
                                            <label for="vak-ow1">OW1 (P1)</label>
                                            <input type="number" id="vak-ow1" min="0" value="0">
                                        </div>
                                        <div class="form-group">
                                            <label for="vak-ow2">OW2 (P1)</label>
                                            <input type="number" id="vak-ow2" min="0" value="0">
                                        </div>
                                    </div>
                                    <div class="form-row-2">
                                        <div class="form-group">
                                            <label for="vak-ow3">OW3 (P2)</label>
                                            <input type="number" id="vak-ow3" min="0" value="0">
                                        </div>
                                        <div class="form-group">
                                            <label for="vak-ow4">OW4 (P2)</label>
                                            <input type="number" id="vak-ow4" min="0" value="0">
                                        </div>
                                    </div>
                                    <div class="form-row-2">
                                        <div class="form-group">
                                            <label for="vak-ow5">OW5 (P3)</label>
                                            <input type="number" id="vak-ow5" min="0" value="0">
                                        </div>
                                        <div class="form-group">
                                            <label for="vak-ow6">OW6 (P3)</label>
                                            <input type="number" id="vak-ow6" min="0" value="0">
                                        </div>
                                    </div>
                                    <div class="form-row-2">
                                        <div class="form-group">
                                            <label for="vak-ow7">OW7 (P4)</label>
                                            <input type="number" id="vak-ow7" min="0" value="0">
                                        </div>
                                        <div class="form-group">
                                            <label for="vak-ow8">OW8 (P4)</label>
                                            <input type="number" id="vak-ow8" min="0" value="0">
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label>Deze les is</label>
                                    <div class="toggle-switch-container">
                                        <span class="toggle-label toggle-label-left splitsbaar-label active"
                                            data-value="splitsbaar">splitsbaar</span>
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="vak-splitsbaar-toggle">
                                            <span class="toggle-slider"></span>
                                        </label>
                                        <span class="toggle-label toggle-label-right splitsbaar-label"
                                            data-value="niet-splitsbaar">niet splitsbaar</span>
                                        <input type="hidden" id="vak-splitsbaar-value" value="true">
                                    </div>
                                    <small class="form-hint" id="splitsbaar-hint">Docenten kunnen eenheden
                                        selecteren</small>
                                </div>

                                <button type="submit" class="btn btn-primary">
                                    <span>‚ûï</span> Les toevoegen
                                </button>
                            </form>
                        </div>
                    </div>

                    <!-- Right column: Overview per leerjaar -->
                    <div class="card">
                        <div class="les-overzicht-header">
                            <h3>üìö Lessenoverzicht</h3>
                            <div class="toggle-switch-container">
                                <span class="toggle-label toggle-label-left active"
                                    id="les-toggle-label-eenh">eenheden</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="les-weergave-toggle" onchange="toggleLesWeergave()">
                                    <span class="toggle-slider"></span>
                                </label>
                                <span class="toggle-label toggle-label-right" id="les-toggle-label-klok">klokuren</span>
                            </div>
                        </div>
                        <div id="vakken-lijst" class="vakken-lijst">
                        </div>
                    </div>
                </div>
            </section>

            <!-- Takenbeheer View -->
            <section class="view" id="view-takenbeheer">

                <div class="curriculum-layout">
                    <!-- Left column: Forms -->
                    <div class="forms-column">
                        <!-- Week Info Display for Taken (Read-Only from Admin) -->
                        <div class="card info-card-compact" id="taken-week-info-card" title="">
                            <div class="week-info-display">
                                <span class="week-info-label">üìÖ Schooljaar:</span>
                                <span class="week-info-value" id="taken-display-schooljaar">-</span>
                                <span class="week-info-separator">|</span>
                                <span class="week-info-label">Periodeweken:</span>
                                <span class="week-info-value" id="display-periodeweken">P1:10, P2:10, P3:10,
                                    P4:10</span>
                            </div>
                        </div>

                        <!-- Taak Toevoegen -->
                        <div class="card form-card">
                            <h3>‚ûï Taak toevoegen</h3>
                            <form id="form-taak">
                                <div class="form-group">
                                    <label for="taak-naam">Taaknaam</label>
                                    <input type="text" id="taak-naam" placeholder="Bijv. Vergadertijd, Coaching"
                                        required>
                                </div>

                                <div class="form-group">
                                    <label>Kleur</label>
                                    <div class="color-picker">
                                        <input type="color" id="taak-kleur" value="#6366f1">
                                        <div class="color-presets taak-color-presets">
                                            <button type="button" class="color-preset" data-color="#6366f1"
                                                style="background: #6366f1"></button>
                                            <button type="button" class="color-preset" data-color="#10b981"
                                                style="background: #10b981"></button>
                                            <button type="button" class="color-preset" data-color="#f59e0b"
                                                style="background: #f59e0b"></button>
                                            <button type="button" class="color-preset" data-color="#ef4444"
                                                style="background: #ef4444"></button>
                                            <button type="button" class="color-preset" data-color="#3b82f6"
                                                style="background: #3b82f6"></button>
                                            <button type="button" class="color-preset" data-color="#8b5cf6"
                                                style="background: #8b5cf6"></button>
                                            <button type="button" class="color-preset" data-color="#ec4899"
                                                style="background: #ec4899"></button>
                                            <button type="button" class="color-preset" data-color="#14b8a6"
                                                style="background: #14b8a6"></button>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="taak-totaal-uren">Taaktijd (in klokuren)</label>
                                    <input type="number" id="taak-totaal-uren" min="0" step="0.5" value="0" required>
                                </div>

                                <div class="form-group checkbox-inline">
                                    <input type="checkbox" id="taak-naar-rato">
                                    <label for="taak-naar-rato">Naar rato (uren √ó netto FTE)</label>
                                    <small class="form-hint">Wanneer aangevinkt worden de uren vermenigvuldigd met de
                                        netto FTE van het teamlid</small>
                                </div>

                                <div class="form-group">
                                    <label>Verdeling</label>
                                    <div class="toggle-switch-container">
                                        <span class="toggle-label toggle-label-left taak-verdeling-label active"
                                            data-value="gelijk">spreiden</span>
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="taak-verdeling-toggle">
                                            <span class="toggle-slider"></span>
                                        </label>
                                        <span class="toggle-label toggle-label-right taak-verdeling-label"
                                            data-value="afwijkend">afwijkend</span>
                                        <input type="hidden" id="taak-verdeling-value" value="gelijk">
                                    </div>
                                    <small class="form-hint" id="taak-verdeling-hint">Uren worden gespreid over
                                        alle periodes</small>
                                </div>

                                <div class="form-group" id="taak-periodes-container" style="display: none;">
                                    <label>Uren per periode</label>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="taak-p1">P1</label>
                                            <input type="number" id="taak-p1" min="0" step="0.5" value="0">
                                        </div>
                                        <div class="form-group">
                                            <label for="taak-p2">P2</label>
                                            <input type="number" id="taak-p2" min="0" step="0.5" value="0">
                                        </div>
                                        <div class="form-group">
                                            <label for="taak-p3">P3</label>
                                            <input type="number" id="taak-p3" min="0" step="0.5" value="0">
                                        </div>
                                        <div class="form-group">
                                            <label for="taak-p4">P4</label>
                                            <input type="number" id="taak-p4" min="0" step="0.5" value="0">
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group checkbox-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="taak-voor-iedereen">
                                        <span>Taak voor alle teamleden</span>
                                    </label>
                                    <small class="form-hint">Indien aangevinkt wordt deze taak automatisch aan alle
                                        teamleden toegevoegd.</small>
                                </div>

                                <div class="form-group checkbox-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="taak-exact-docenten-check">
                                        <span>Exact aantal teamleden voor deze taak</span>
                                    </label>
                                    <div id="taak-exact-docenten-container" style="display: none; margin-top: 0.5rem;">
                                        <input type="number" id="taak-exact-docenten" min="1" value="1"
                                            style="width: 80px;">
                                    </div>
                                </div>

                                <div class="form-group checkbox-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="taak-max-docenten-check">
                                        <span>Maximaal aantal teamleden voor deze taak</span>
                                    </label>
                                    <div id="taak-max-docenten-container" style="display: none; margin-top: 0.5rem;">
                                        <input type="number" id="taak-max-docenten" min="1" value="1"
                                            style="width: 80px;">
                                    </div>
                                </div>

                                <button type="button" id="btn-taak-toevoegen" class="btn btn-primary">
                                    <span>‚ûï</span> Taak toevoegen
                                </button>
                            </form>
                        </div>
                    </div>

                    <!-- Right column: Taken Overzicht -->
                    <div class="card">
                        <h3>‚úÖ Takenoverzicht</h3>
                        <div id="taken-lijst" class="vakken-lijst">
                            <p class="empty-state">Nog geen taken aangemaakt.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Docenten View -->
            <section class="view" id="view-docenten">

                <div class="docenten-layout">
                    <div class="card">
                        <div class="section-header-with-subtitle">
                            <h3>üë• Teamledenoverzicht</h3>
                            <p class="admin-managed-by" id="admin-managed-by"></p>
                        </div>
                        <div id="docenten-lijst" class="docenten-lijst">
                            <p class="empty-state">Nog geen teamleden toegevoegd.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Klassen View -->
            <section class="view active" id="view-klassen">

                <div class="klassen-layout">
                    <!-- Selection Panel -->
                    <div class="card klassen-selectors">
                        <h3>üîç Selectie</h3>
                        <div class="form-group">
                            <label for="klassen-docent">Teamlid</label>
                            <select id="klassen-docent" required>
                                <option value="">-- Selecteer jezelf --</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="klassen-leerjaar">Leerjaar</label>
                            <select id="klassen-leerjaar" required>
                                <option value="">-- Selecteer leerjaar --</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="klassen-klas">Klas</label>
                            <select id="klassen-klas" required disabled>
                                <option value="">-- Selecteer eerst leerjaar --</option>
                            </select>
                        </div>

                        <div class="klassen-legenda">
                            <h4>Legenda</h4>
                            <div class="legenda-item">
                                <span class="legenda-box available"></span> Beschikbare leseenheid*
                            </div>
                            <div class="legenda-item">
                                <span class="legenda-box available dashed"></span> Beschikbare les**
                            </div>
                            <div class="legenda-item">
                                <span class="legenda-box mine"></span> Door jou geselecteerd
                            </div>
                            <div class="legenda-item">
                                <span class="legenda-box taken"></span> Door anderen geselecteerd
                            </div>
                            <div class="legenda-footnote">
                                <em>*Een eenheid = 30 minuten</em><br>
                                <em>**niet splitsbaar</em>
                            </div>
                        </div>
                    </div>

                    <!-- Curriculum per class -->
                    <div class="card klassen-curriculum">
                        <h3><span id="klassen-leerjaar-titel"></span> <span id="klassen-klas-titel"></span></h3>
                        <div id="klassen-curriculum-grid" class="klassen-grid">
                            <p class="empty-state">Selecteer een docent, leerjaar en klas om het curriculum te zien</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Taken View (Docent Task Selection) -->
            <section class="view" id="view-taken">

                <div class="taken-layout">
                    <!-- Selection Panel -->
                    <div class="card taken-selectors">
                        <h3>üîç Selectie</h3>
                        <div class="form-group">
                            <label for="taken-docent">Teamlid</label>
                            <select id="taken-docent" required>
                                <option value="">-- Selecteer jezelf --</option>
                            </select>
                        </div>
                    </div>

                    <!-- Available Tasks -->
                    <div class="card taken-lijst-container">
                        <div id="taken-selectie-grid" class="taken-selectie-grid">
                            <p class="empty-state">Selecteer een docent om taken te zien</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Mijn Overzicht View -->
            <section class="view" id="view-verdeling">
                <div class="view-header">
                    <div class="docent-selector">
                        <label for="select-docent">Teamlid:</label>
                        <select id="select-docent">
                            <option value="">-- Selecteer jezelf --</option>
                        </select>
                    </div>
                </div>

                <div class="mijn-overzicht-layout">
                    <!-- Overview grid -->
                    <div class="card">
                        <h3>üéì Onderwijs</h3>
                        <div id="mijn-overzicht-grid" class="klassen-grid">
                            <p class="empty-state">Selecteer een docent om je overzicht te zien</p>
                        </div>
                    </div>
                    <div class="card">
                        <h3>üìã Taken</h3>
                        <div id="taken-grid" class="klassen-grid">
                            <p class="empty-state">Geen taken ingevoerd</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Dashboard View -->
            <section class="view" id="view-dashboard">
                <div class="view-header dashboard-header-compact">
                    <!-- Dashboard Niveau Tabs -->
                    <div class="dashboard-niveau-tabs-compact">
                        <button class="dashboard-niveau-tab active" data-niveau="1"
                            onclick="switchDashboardNiveau(1)">Lessen</button>
                        <span class="tab-separator">/</span>
                        <button class="dashboard-niveau-tab" data-niveau="2"
                            onclick="switchDashboardNiveau(2)">Taken</button>
                        <span class="tab-separator">/</span>
                        <button class="dashboard-niveau-tab" data-niveau="3" onclick="switchDashboardNiveau(3)">Dummy
                            PvI's</button>
                    </div>
                    <!-- Spacer to push items to right -->
                    <div class="dashboard-header-spacer"></div>
                    <!-- Overall progress bar (only visible on Lessen tab) -->
                    <div class="dashboard-progress-container" id="dashboard-progress-container">
                        <div class="dashboard-progress-bar" id="dashboard-progress-bar">
                            <span class="dashboard-progress-text" id="dashboard-progress-text">0% onderwijs
                                verdeeld</span>
                        </div>
                    </div>
                    <!-- Taken progress bar (only visible on Taken tab) -->
                    <div class="dashboard-progress-container" id="dashboard-taken-progress-container"
                        style="display: none;">
                        <div class="dashboard-progress-bar" id="dashboard-taken-progress-bar">
                            <span class="dashboard-progress-text" id="dashboard-taken-progress-text">0% taken
                                verdeeld</span>
                        </div>
                    </div>
                    <!-- Leerjaar dropdown (only visible on Lessen tab) -->
                    <select id="dashboard-leerjaar-select" class="dashboard-leerjaar-dropdown"
                        onchange="renderDashboardLessen()">
                        <option value="alle">Alle leerjaren</option>
                    </select>
                </div>

                <!-- Niveau 1: Lessen -->
                <div class="dashboard-niveau active" id="dashboard-niveau-1">
                    <div class="dashboard-lessen-grid" id="dashboard-lessen-grid">
                        <p class="empty-state">Selecteer een leerjaar om het lessenoverzicht te zien</p>
                    </div>
                </div>

                <!-- Niveau 2: Taken -->
                <div class="dashboard-niveau" id="dashboard-niveau-2">
                    <div class="dashboard-taken-grid" id="dashboard-taken-grid">
                        <p class="empty-state">Nog geen taken aangemaakt</p>
                    </div>
                </div>

                <!-- Niveau 3: Dummy PvI's -->
                <div class="dashboard-niveau" id="dashboard-niveau-3">
                    <div class="pvi-header-bar">
                        <button class="btn btn-primary btn-export-pvi" onclick="exportPviToExcel()">
                            <span>üì•</span> Exporteer naar Excel
                        </button>
                    </div>
                    <div class="dashboard-grid" id="dashboard-pvi-grid">
                        <p class="empty-state">Voeg docenten toe om het overzicht te zien</p>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <!-- Edit Vak Modal -->
    <div id="edit-vak-modal" class="modal" style="display: none;">
        <div class="modal-backdrop" onclick="closeEditVakModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-header-info">
                    <h3>Les bewerken</h3>
                    <span id="edit-vak-klassen-display" class="leerjaar-badge-style"></span>
                </div>
                <button class="modal-close" onclick="closeEditVakModal()">√ó</button>
            </div>
            <form id="form-edit-vak" class="modal-body">
                <input type="hidden" id="edit-vak-id">

                <div class="form-group">
                    <label for="edit-vak-naam">Lestitel *</label>
                    <input type="text" id="edit-vak-naam" required>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-vak-kleur">Kleur</label>
                        <input type="color" id="edit-vak-kleur" value="#6366f1">
                    </div>
                    <div class="form-group">
                        <label for="edit-vak-opslagfactor">VZNZ (%)</label>
                        <input type="number" id="edit-vak-opslagfactor" min="0" max="100" value="40">
                        <small class="form-hint">Standaard 40%</small>
                    </div>
                </div>

                <div class="form-group">
                    <label>Les bewerken in</label>
                    <div class="toggle-switch-container">
                        <span class="toggle-label toggle-label-left edit-vak-type-label active"
                            data-value="basisweken">basisweken</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="edit-vak-type-toggle">
                            <span class="toggle-slider"></span>
                        </label>
                        <span class="toggle-label toggle-label-right edit-vak-type-label"
                            data-value="ontwikkelweken">ontwikkelweken</span>
                        <input type="hidden" id="edit-vak-type-value" value="basisweken">
                    </div>
                    <small class="form-hint" id="edit-eenheden-label">Aantal eenheden per basisweek</small>
                </div>

                <div id="edit-periodes-container">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-vak-p1">P1</label>
                            <input type="number" id="edit-vak-p1" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-vak-p2">P2</label>
                            <input type="number" id="edit-vak-p2" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-vak-p3">P3</label>
                            <input type="number" id="edit-vak-p3" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-vak-p4">P4</label>
                            <input type="number" id="edit-vak-p4" min="0" value="0">
                        </div>
                    </div>
                </div>

                <div id="edit-ow-container" style="display: none;">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-vak-ow1">OW1</label>
                            <input type="number" id="edit-vak-ow1" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-vak-ow2">OW2</label>
                            <input type="number" id="edit-vak-ow2" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-vak-ow3">OW3</label>
                            <input type="number" id="edit-vak-ow3" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-vak-ow4">OW4</label>
                            <input type="number" id="edit-vak-ow4" min="0" value="0">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-vak-ow5">OW5</label>
                            <input type="number" id="edit-vak-ow5" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-vak-ow6">OW6</label>
                            <input type="number" id="edit-vak-ow6" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-vak-ow7">OW7</label>
                            <input type="number" id="edit-vak-ow7" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-vak-ow8">OW8</label>
                            <input type="number" id="edit-vak-ow8" min="0" value="0">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Deze les is</label>
                    <div class="toggle-switch-container">
                        <span class="toggle-label toggle-label-left edit-splitsbaar-label active"
                            data-value="splitsbaar">splitsbaar</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="edit-vak-splitsbaar-toggle">
                            <span class="toggle-slider"></span>
                        </label>
                        <span class="toggle-label toggle-label-right edit-splitsbaar-label"
                            data-value="niet-splitsbaar">niet splitsbaar</span>
                        <input type="hidden" id="edit-vak-splitsbaar-value" value="true">
                    </div>
                    <small class="form-hint" id="edit-splitsbaar-hint">Docenten kunnen eenheden
                        selecteren</small>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeEditVakModal()">Annuleren</button>
                    <button type="button" class="btn btn-primary" onclick="closeEditVakModal(); saveEditVak();">üíæ
                        Opslaan</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Taak Modal -->
    <div id="edit-taak-modal" class="modal" style="display: none;">
        <div class="modal-backdrop" onclick="closeEditTaakModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Taak bewerken</h3>
                <button class="modal-close" onclick="closeEditTaakModal()">√ó</button>
            </div>
            <form id="form-edit-taak" class="modal-body">
                <input type="hidden" id="edit-taak-id">

                <div class="form-group">
                    <label for="edit-taak-naam">Taaknaam *</label>
                    <input type="text" id="edit-taak-naam" required>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-taak-kleur">Kleur</label>
                        <input type="color" id="edit-taak-kleur" value="#6366f1">
                    </div>
                    <div class="form-group">
                        <label for="edit-taak-totaal-uren">Totaal klokuren per jaar *</label>
                        <input type="number" id="edit-taak-totaal-uren" min="0" step="0.5" required>
                    </div>
                </div>

                <div class="form-group checkbox-inline">
                    <input type="checkbox" id="edit-taak-naar-rato">
                    <label for="edit-taak-naar-rato">Naar rato (uren √ó netto FTE)</label>
                    <small class="form-hint">Wanneer aangevinkt worden de uren vermenigvuldigd met de netto FTE van het
                        teamlid</small>
                </div>

                <div class="form-group">
                    <label>Verdeling</label>
                    <div class="toggle-switch-container">
                        <span class="toggle-label toggle-label-left edit-taak-verdeling-label active"
                            data-value="gelijk">spreiden</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="edit-taak-verdeling-toggle">
                            <span class="toggle-slider"></span>
                        </label>
                        <span class="toggle-label toggle-label-right edit-taak-verdeling-label"
                            data-value="afwijkend">afwijkend</span>
                        <input type="hidden" id="edit-taak-verdeling-value" value="gelijk">
                    </div>
                    <small class="form-hint" id="edit-taak-verdeling-hint">Uren worden gespreid over alle
                        periodes</small>
                </div>

                <div id="edit-taak-periodes-container" style="display: none;">
                    <label>Uren per periode</label>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-taak-p1">P1</label>
                            <input type="number" id="edit-taak-p1" min="0" step="0.5" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-taak-p2">P2</label>
                            <input type="number" id="edit-taak-p2" min="0" step="0.5" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-taak-p3">P3</label>
                            <input type="number" id="edit-taak-p3" min="0" step="0.5" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-taak-p4">P4</label>
                            <input type="number" id="edit-taak-p4" min="0" step="0.5" value="0">
                        </div>
                    </div>
                </div>

                <div class="form-group checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="edit-taak-voor-iedereen">
                        <span>Taak voor alle teamleden</span>
                    </label>
                </div>

                <div class="form-group checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="edit-taak-exact-docenten-check">
                        <span>Exact aantal teamleden voor deze taak</span>
                    </label>
                    <div id="edit-taak-exact-docenten-container" style="display: none; margin-top: 0.5rem;">
                        <input type="number" id="edit-taak-exact-docenten" min="1" value="1" style="width: 80px;">
                    </div>
                </div>

                <div class="form-group checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="edit-taak-max-docenten-check">
                        <span>Maximaal aantal teamleden voor deze taak</span>
                    </label>
                    <div id="edit-taak-max-docenten-container" style="display: none; margin-top: 0.5rem;">
                        <input type="number" id="edit-taak-max-docenten" min="1" value="1" style="width: 80px;">
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeEditTaakModal()">Annuleren</button>
                    <button type="button" class="btn btn-primary" onclick="closeEditTaakModal(); saveEditTaak();">üíæ
                        Opslaan</button>
                </div>
            </form>
        </div>
    </div>


    <!-- Edit Docent Modal -->
    <div id="edit-docent-modal" class="modal" style="display: none;">
        <div class="modal-backdrop" onclick="closeEditDocentModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Teamlid bewerken</h3>
                <button class="modal-close" onclick="closeEditDocentModal()">√ó</button>
            </div>
            <form id="form-edit-docent">
                <input type="hidden" id="edit-docent-id">

                <div class="form-group">
                    <label for="edit-docent-naam">Naam</label>
                    <input type="text" id="edit-docent-naam" required>
                </div>

                <div class="modal-form-row">
                    <div class="form-group">
                        <label for="edit-docent-aanstelling">Aanstelling (bruto FTE)</label>
                        <input type="number" id="edit-docent-aanstelling" min="0" max="1.5" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-docent-inhouding">Inhouding (FTE)</label>
                        <input type="number" id="edit-docent-inhouding" min="0" max="1" step="0.01">
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeEditDocentModal()">Annuleren</button>
                    <button type="button" class="btn btn-primary" onclick="closeEditDocentModal(); saveEditDocent();">üíæ
                        Opslaan</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Leerjaar Modal -->
    <div id="edit-leerjaar-modal" class="modal" style="display: none;">
        <div class="modal-backdrop" onclick="closeEditLeerjaarModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>‚úèÔ∏è Leerjaar bewerken</h3>
                <button type="button" class="modal-close" onclick="closeEditLeerjaarModal()">√ó</button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="edit-leerjaar-naam">
                <h4 id="edit-leerjaar-titel"></h4>
                <p class="form-hint">Klik op üóëÔ∏è om een klas te verwijderen (alleen mogelijk als er geen geselecteerde
                    lessen zijn)</p>
                <div id="edit-leerjaar-klassen-lijst" class="klassen-edit-lijst"></div>
                <div class="form-group" style="margin-top: var(--space-md);">
                    <label for="edit-leerjaar-nieuwe-klas">Nieuwe klas toevoegen</label>
                    <div class="input-button-row">
                        <input type="text" id="edit-leerjaar-nieuwe-klas" placeholder="bijv. 1CMD5">
                        <button type="button" class="btn btn-secondary" onclick="addKlasToLeerjaar()">‚ûï
                            Toevoegen</button>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-ghost" onclick="closeEditLeerjaarModal()">Annuleren</button>
                <button type="button" class="btn btn-primary" onclick="saveEditLeerjaar()">üíæ Opslaan</button>
            </div>
        </div>
    </div>

    <!-- Edit User Modal -->
    <div id="edit-user-modal" class="modal" style="display: none;">
        <div class="modal-backdrop" onclick="closeEditUserModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Gebruiker bewerken</h3>
                <button class="modal-close" onclick="closeEditUserModal()">√ó</button>
            </div>
            <form id="form-edit-user">
                <input type="hidden" id="edit-user-id">

                <div class="form-group">
                    <label for="edit-user-afkorting">Afkorting (Login)</label>
                    <input type="text" id="edit-user-afkorting" disabled
                        style="background: var(--bg-secondary); color: var(--text-muted);">
                    <small style="color: var(--text-muted)">Afkorting kan niet gewijzigd worden (maak nieuwe gebruiker
                        voor wijziging)</small>
                </div>

                <div class="modal-form-row">
                    <div class="form-group">
                        <label for="edit-user-team">Team</label>
                        <select id="edit-user-team" required>
                            <!-- Populated by JS -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="edit-user-role">Rol</label>
                        <select id="edit-user-role" required>
                            <option value="teamlid">Teamlid</option>
                            <option value="teamleider">Teamleider</option>
                            <option value="onderwijsplanner">Onderwijsplanner</option>
                            <option value="admin">Admin</option>
                        </select>
                    </div>
                </div>

                <div class="modal-form-row">
                    <div class="form-group">
                        <label for="edit-user-fte">Aanstelling (Bruto)</label>
                        <input type="number" id="edit-user-fte" min="0" max="1.5" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="edit-user-inhouding">Inhouding</label>
                        <input type="number" id="edit-user-inhouding" min="0" max="1.5" step="0.01" placeholder="0.0">
                    </div>
                </div>
                <div class="modal-form-row">
                    <div class="form-group">
                        <label for="edit-user-docenttype">Docenttype</label>
                        <input type="text" id="edit-user-docenttype" placeholder="Bijv. AVO">
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeEditUserModal()">Annuleren</button>
                    <button type="button" class="btn btn-primary" onclick="saveEditUser()">üíæ Opslaan</button>
                </div>
            </form>
        </div>
    </div>
    <!-- Edit Schooljaar Modal -->
    <div id="edit-schooljaar-modal" class="modal" style="display: none;">
        <div class="modal-backdrop" onclick="closeEditSchooljaarModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>‚úèÔ∏è Schooljaar bewerken</h3>
                <button type="button" class="modal-close" onclick="closeEditSchooljaarModal()">√ó</button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="edit-schooljaar-id">
                <div class="modal-form-row">
                    <label>Schooljaar</label>
                    <span id="edit-schooljaar-naam-display" class="form-value-display"></span>
                </div>
                <div class="modal-form-row">
                    <label>Basisweken (P1-P4)</label>
                    <div class="week-inputs-row">
                        <input type="number" id="edit-sj-basis-1" min="1" max="20" class="week-input-small" title="P1">
                        <input type="number" id="edit-sj-basis-2" min="1" max="20" class="week-input-small" title="P2">
                        <input type="number" id="edit-sj-basis-3" min="1" max="20" class="week-input-small" title="P3">
                        <input type="number" id="edit-sj-basis-4" min="1" max="20" class="week-input-small" title="P4">
                    </div>
                </div>
                <div class="modal-form-row">
                    <label>Periodeweken (P1-P4)</label>
                    <div class="week-inputs-row">
                        <input type="number" id="edit-sj-periode-1" min="1" max="20" class="week-input-small"
                            title="P1">
                        <input type="number" id="edit-sj-periode-2" min="1" max="20" class="week-input-small"
                            title="P2">
                        <input type="number" id="edit-sj-periode-3" min="1" max="20" class="week-input-small"
                            title="P3">
                        <input type="number" id="edit-sj-periode-4" min="1" max="20" class="week-input-small"
                            title="P4">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-ghost" onclick="closeEditSchooljaarModal()">Annuleren</button>
                <button type="button" class="btn btn-primary" onclick="saveEditSchooljaar()">üíæ Opslaan</button>
            </div>
        </div>
    </div>

    <!-- Edit Team Modal -->
    <div id="edit-team-modal" class="modal" style="display: none;">
        <div class="modal-backdrop" onclick="closeEditTeamModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>‚úèÔ∏è Team bewerken</h3>
                <button type="button" class="modal-close" onclick="closeEditTeamModal()">√ó</button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="edit-team-id">
                <div class="modal-form-row">
                    <label>Teamnaam</label>
                    <span id="edit-team-naam-display" class="form-value-display"></span>
                </div>
                <div class="modal-form-row">
                    <label for="edit-team-schooljaar">Schooljaar</label>
                    <select id="edit-team-schooljaar">
                        <option value="">Selecteer schooljaar</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-ghost" onclick="closeEditTeamModal()">Annuleren</button>
                <button type="button" class="btn btn-primary" onclick="saveEditTeam()">üíæ Opslaan</button>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="login-modal" class="modal" style="display: none;">
        <div class="modal-backdrop"></div>
        <div class="modal-content login-modal-content">
            <div class="login-header">
                <img src="assets/logo-transparant.png" alt="Werkverdelingsapp Logo" class="login-logo-img">
                <h2>werkverdelingsapp</h2>
            </div>
            <form id="login-form" class="login-form" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label for="login-afkorting">Afkorting</label>
                    <input type="text" id="login-afkorting" placeholder="bijv. fwals" required autocomplete="username">
                </div>
                <div class="form-group">
                    <label for="login-password">Wachtwoord</label>
                    <input type="password" id="login-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required
                        autocomplete="current-password">
                </div>
                <div id="login-error" class="login-error" style="display: none;"></div>
                <button type="submit" class="btn btn-primary btn-login" id="login-submit-btn">
                    <span class="login-btn-text">Inloggen</span>
                    <span class="login-btn-loading" style="display: none;">‚è≥ Bezig...</span>
                </button>
            </form>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>