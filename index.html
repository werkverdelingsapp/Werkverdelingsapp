<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Werkverdelingsapp - MBO Onderwijs</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- Navigation -->
        <nav class="main-nav">
            <div class="nav-brand">
                <span class="brand-icon">‚ñë</span>
                <h1>Werkverdelingsapp</h1>
            </div>
            <div class="nav-tabs">
                <button class="nav-tab active" data-view="curriculum" data-role="admin">
                    <span class="tab-icon">üìö</span>
                    Lessenbeheer
                </button>
                <button class="nav-tab" data-view="takenbeheer" data-role="admin">
                    <span class="tab-icon">‚úÖ</span>
                    Takenbeheer
                </button>
                <button class="nav-tab" data-view="docenten" data-role="admin">
                    <span class="tab-icon">üë•</span>
                    Teamledenbeheer
                </button>
                <button class="nav-tab" data-view="klassen">
                    <span class="tab-icon">üè´</span>
                    Lessen
                </button>
                <button class="nav-tab" data-view="taken">
                    <span class="tab-icon">‚òëÔ∏è</span>
                    Taken
                </button>
                <button class="nav-tab" data-view="verdeling">
                    <span class="tab-icon">üë§</span>
                    Dummy PvI's
                </button>
                <button class="nav-tab" data-view="dashboard">
                    <span class="tab-icon">üìä</span>
                    Dashboard
                </button>
            </div>
            <div class="nav-actions">
                <button class="btn-icon" id="btn-reset" title="Reset alle data">üóëÔ∏è</button>
                <button class="btn-icon" id="btn-save" title="Opslaan">üíæ</button>
                <button class="btn-icon" id="btn-export" title="Exporteren">üì§</button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">

            <!-- Curriculum View -->
            <section class="view active" id="view-curriculum">
                <div class="view-header">
                    <h2>Lessenbeheer</h2>
                </div>

                <div class="curriculum-layout">
                    <!-- Left column: Forms -->
                    <div class="forms-column">
                        <!-- Basisweken Config (collapsible) -->
                        <div class="card form-card collapsible-card" id="basisweken-card">
                            <div class="collapsible-header" onclick="toggleCollapsible('basisweken-card')">
                                <div class="collapsible-header-left">
                                    <h3>üìÖ Basisweken instellen</h3>
                                    <span class="collapsible-summary" id="basisweken-summary"></span>
                                </div>
                                <span class="collapsible-icon">‚ñº</span>
                            </div>
                            <div class="collapsible-content">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="basisweken-p1">P1</label>
                                        <input type="number" id="basisweken-p1" min="1" max="20" value="8">
                                    </div>
                                    <div class="form-group">
                                        <label for="basisweken-p2">P2</label>
                                        <input type="number" id="basisweken-p2" min="1" max="20" value="8">
                                    </div>
                                    <div class="form-group">
                                        <label for="basisweken-p3">P3</label>
                                        <input type="number" id="basisweken-p3" min="1" max="20" value="8">
                                    </div>
                                    <div class="form-group">
                                        <label for="basisweken-p4">P4</label>
                                        <input type="number" id="basisweken-p4" min="1" max="20" value="8">
                                    </div>
                                </div>
                                <button type="button" id="btn-save-basisweken" class="btn btn-secondary btn-sm">
                                    <span>üíæ</span> Opslaan
                                </button>
                            </div>
                        </div>

                        <!-- Leerjaren Form -->
                        <div class="card form-card">
                            <h3>üéì Leerjaren en klassen aanmaken</h3>
                            <form id="form-leerjaar">
                                <div class="form-group">
                                    <label for="leerjaar-naam">Naam leerjaar</label>
                                    <input type="text" id="leerjaar-naam" placeholder="bijv. CMD Leerjaar 1" required>
                                    <small class="form-hint">Geef het leerjaar een unieke naam</small>
                                </div>
                                <div class="form-row-2">
                                    <div class="form-group">
                                        <label for="leerjaar-prefix">Prefix klascode</label>
                                        <input type="text" id="leerjaar-prefix" placeholder="bijv. 1CMD" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="leerjaar-klassen">Aantal klassen</label>
                                        <input type="number" id="leerjaar-klassen" min="1" max="20" value="1" required>
                                    </div>
                                </div>
                                <small class="form-hint">Klassen worden: prefix + nummer (bijv. 1CMD1, 1CMD2,
                                    etc.)</small>
                                <button type="submit" class="btn btn-secondary">
                                    <span>‚ûï</span> Leerjaar aanmaken
                                </button>
                            </form>

                            <!-- Leerjaren Overview -->
                            <div id="leerjaren-lijst" class="leerjaren-lijst">
                            </div>
                        </div>

                        <!-- Add Subject Form -->
                        <div class="card form-card">
                            <h3>‚ûï Les toevoegen</h3>
                            <form id="form-vak">
                                <div class="form-group">
                                    <label for="vak-leerjaar">Leerjaar</label>
                                    <select id="vak-leerjaar" required>
                                        <option value="">-- Selecteer leerjaar --</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label for="vak-naam">Lestitel</label>
                                    <input type="text" id="vak-naam" placeholder="bijv. Co-creatie" required>
                                </div>

                                <div class="form-group">
                                    <label for="vak-kleur">Kleur</label>
                                    <div class="color-picker">
                                        <input type="color" id="vak-kleur" value="#4CAF50">
                                        <div class="color-presets">
                                            <button type="button" class="color-preset" data-color="#4CAF50"
                                                style="background:#4CAF50"></button>
                                            <button type="button" class="color-preset" data-color="#2196F3"
                                                style="background:#2196F3"></button>
                                            <button type="button" class="color-preset" data-color="#9C27B0"
                                                style="background:#9C27B0"></button>
                                            <button type="button" class="color-preset" data-color="#FF9800"
                                                style="background:#FF9800"></button>
                                            <button type="button" class="color-preset" data-color="#E91E63"
                                                style="background:#E91E63"></button>
                                            <button type="button" class="color-preset" data-color="#00BCD4"
                                                style="background:#00BCD4"></button>
                                            <button type="button" class="color-preset" data-color="#795548"
                                                style="background:#795548"></button>
                                            <button type="button" class="color-preset" data-color="#607D8B"
                                                style="background:#607D8B"></button>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="vak-opslagfactor">Opslagfactor VZNZ (%)</label>
                                    <input type="number" id="vak-opslagfactor" min="0" max="100" value="40">
                                    <small class="form-hint">Standaard 40%</small>
                                </div>

                                <div class="form-group">
                                    <label>Les aanmaken in</label>
                                    <div class="toggle-switch-container">
                                        <span class="toggle-label toggle-label-left active"
                                            data-value="basisweken">basisweken</span>
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="vak-type-toggle">
                                            <span class="toggle-slider"></span>
                                        </label>
                                        <span class="toggle-label toggle-label-right"
                                            data-value="ontwikkelweken">ontwikkelweken</span>
                                        <input type="hidden" name="vak-type" id="vak-type-value" value="basisweken">
                                    </div>
                                    <label id="eenheden-label" style="margin-top: var(--space-md);">Aantal eenheden per
                                        basisweek</label>
                                </div>

                                <!-- Basisweken periodes -->
                                <div id="basisweken-inputs" class="form-row">
                                    <div class="form-group">
                                        <label for="vak-p1">P1</label>
                                        <input type="number" id="vak-p1" min="0" value="0">
                                    </div>
                                    <div class="form-group">
                                        <label for="vak-p2">P2</label>
                                        <input type="number" id="vak-p2" min="0" value="0">
                                    </div>
                                    <div class="form-group">
                                        <label for="vak-p3">P3</label>
                                        <input type="number" id="vak-p3" min="0" value="0">
                                    </div>
                                    <div class="form-group">
                                        <label for="vak-p4">P4</label>
                                        <input type="number" id="vak-p4" min="0" value="0">
                                    </div>
                                </div>

                                <!-- Ontwikkelweken periodes -->
                                <div id="ontwikkelweken-inputs" class="ow-inputs" style="display: none;">
                                    <div class="form-row-2">
                                        <div class="form-group">
                                            <label for="vak-ow1">OW1 (P1)</label>
                                            <input type="number" id="vak-ow1" min="0" value="0">
                                        </div>
                                        <div class="form-group">
                                            <label for="vak-ow2">OW2 (P1)</label>
                                            <input type="number" id="vak-ow2" min="0" value="0">
                                        </div>
                                    </div>
                                    <div class="form-row-2">
                                        <div class="form-group">
                                            <label for="vak-ow3">OW3 (P2)</label>
                                            <input type="number" id="vak-ow3" min="0" value="0">
                                        </div>
                                        <div class="form-group">
                                            <label for="vak-ow4">OW4 (P2)</label>
                                            <input type="number" id="vak-ow4" min="0" value="0">
                                        </div>
                                    </div>
                                    <div class="form-row-2">
                                        <div class="form-group">
                                            <label for="vak-ow5">OW5 (P3)</label>
                                            <input type="number" id="vak-ow5" min="0" value="0">
                                        </div>
                                        <div class="form-group">
                                            <label for="vak-ow6">OW6 (P3)</label>
                                            <input type="number" id="vak-ow6" min="0" value="0">
                                        </div>
                                    </div>
                                    <div class="form-row-2">
                                        <div class="form-group">
                                            <label for="vak-ow7">OW7 (P4)</label>
                                            <input type="number" id="vak-ow7" min="0" value="0">
                                        </div>
                                        <div class="form-group">
                                            <label for="vak-ow8">OW8 (P4)</label>
                                            <input type="number" id="vak-ow8" min="0" value="0">
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label>Deze les is</label>
                                    <div class="toggle-switch-container">
                                        <span class="toggle-label toggle-label-left splitsbaar-label active"
                                            data-value="splitsbaar">splitsbaar</span>
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="vak-splitsbaar-toggle">
                                            <span class="toggle-slider"></span>
                                        </label>
                                        <span class="toggle-label toggle-label-right splitsbaar-label"
                                            data-value="niet-splitsbaar">niet splitsbaar</span>
                                        <input type="hidden" id="vak-splitsbaar-value" value="true">
                                    </div>
                                    <small class="form-hint" id="splitsbaar-hint">Docenten kunnen eenheden
                                        selecteren</small>
                                </div>

                                <button type="submit" class="btn btn-primary">
                                    <span>‚ûï</span> Les toevoegen
                                </button>
                            </form>
                        </div>
                    </div>

                    <!-- Right column: Overview per leerjaar -->
                    <div class="card">
                        <h3>üìö Lessenoverzicht</h3>
                        <div id="vakken-lijst" class="vakken-lijst">
                        </div>
                    </div>
                </div>
            </section>

            <!-- Takenbeheer View -->
            <section class="view" id="view-takenbeheer">
                <div class="view-header">
                    <h2>Takenbeheer</h2>

                </div>

                <div class="curriculum-layout">
                    <!-- Left column: Forms -->
                    <div class="forms-column">
                        <!-- Weken per Periode (collapsible) -->
                        <div class="card form-card collapsible-card" id="weken-periode-card">
                            <div class="collapsible-header" onclick="toggleCollapsible('weken-periode-card')">
                                <div class="collapsible-header-left">
                                    <h3>Periodeweken instellen</h3>
                                    <span class="collapsible-summary" id="weken-periode-summary"></span>
                                </div>
                                <span class="collapsible-icon">‚ñº</span>
                            </div>
                            <div class="collapsible-content">
                                <form id="form-weken-periode">
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="weken-p1">P1</label>
                                            <input type="number" id="weken-p1" min="1" max="20" value="10">
                                        </div>
                                        <div class="form-group">
                                            <label for="weken-p2">P2</label>
                                            <input type="number" id="weken-p2" min="1" max="20" value="10">
                                        </div>
                                        <div class="form-group">
                                            <label for="weken-p3">P3</label>
                                            <input type="number" id="weken-p3" min="1" max="20" value="10">
                                        </div>
                                        <div class="form-group">
                                            <label for="weken-p4">P4</label>
                                            <input type="number" id="weken-p4" min="1" max="20" value="10">
                                        </div>
                                    </div>
                                    <button type="submit" class="btn btn-secondary btn-sm">
                                        <span>üíæ</span> Opslaan
                                    </button>
                                </form>
                            </div>
                        </div>

                        <!-- Taak Toevoegen -->
                        <div class="card form-card">
                            <h3>‚ûï Taak toevoegen</h3>
                            <form id="form-taak">
                                <div class="form-group">
                                    <label for="taak-naam">Taaknaam</label>
                                    <input type="text" id="taak-naam" placeholder="Bijv. Vergadertijd, Coaching"
                                        required>
                                </div>

                                <div class="form-group">
                                    <label>Kleur</label>
                                    <div class="color-picker">
                                        <input type="color" id="taak-kleur" value="#6366f1">
                                        <div class="color-presets taak-color-presets">
                                            <button type="button" class="color-preset" data-color="#6366f1"
                                                style="background: #6366f1"></button>
                                            <button type="button" class="color-preset" data-color="#10b981"
                                                style="background: #10b981"></button>
                                            <button type="button" class="color-preset" data-color="#f59e0b"
                                                style="background: #f59e0b"></button>
                                            <button type="button" class="color-preset" data-color="#ef4444"
                                                style="background: #ef4444"></button>
                                            <button type="button" class="color-preset" data-color="#3b82f6"
                                                style="background: #3b82f6"></button>
                                            <button type="button" class="color-preset" data-color="#8b5cf6"
                                                style="background: #8b5cf6"></button>
                                            <button type="button" class="color-preset" data-color="#ec4899"
                                                style="background: #ec4899"></button>
                                            <button type="button" class="color-preset" data-color="#14b8a6"
                                                style="background: #14b8a6"></button>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="taak-totaal-uren">Taaktijd (in klokuren)</label>
                                    <input type="number" id="taak-totaal-uren" min="0" step="0.5" value="0" required>
                                </div>

                                <div class="form-group">
                                    <label>Verdeling</label>
                                    <div class="toggle-switch-container">
                                        <span class="toggle-label toggle-label-left taak-verdeling-label active"
                                            data-value="gelijk">spreiden</span>
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="taak-verdeling-toggle">
                                            <span class="toggle-slider"></span>
                                        </label>
                                        <span class="toggle-label toggle-label-right taak-verdeling-label"
                                            data-value="afwijkend">afwijkend</span>
                                        <input type="hidden" id="taak-verdeling-value" value="gelijk">
                                    </div>
                                    <small class="form-hint" id="taak-verdeling-hint">Uren worden gespreid over
                                        alle periodes</small>
                                </div>

                                <div class="form-group" id="taak-periodes-container" style="display: none;">
                                    <label>Uren per periode</label>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="taak-p1">P1</label>
                                            <input type="number" id="taak-p1" min="0" step="0.5" value="0">
                                        </div>
                                        <div class="form-group">
                                            <label for="taak-p2">P2</label>
                                            <input type="number" id="taak-p2" min="0" step="0.5" value="0">
                                        </div>
                                        <div class="form-group">
                                            <label for="taak-p3">P3</label>
                                            <input type="number" id="taak-p3" min="0" step="0.5" value="0">
                                        </div>
                                        <div class="form-group">
                                            <label for="taak-p4">P4</label>
                                            <input type="number" id="taak-p4" min="0" step="0.5" value="0">
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group checkbox-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="taak-voor-iedereen">
                                        <span>Taak voor alle teamleden</span>
                                    </label>
                                    <small class="form-hint">Indien aangevinkt wordt deze taak automatisch aan alle
                                        teamleden toegevoegd.</small>
                                </div>

                                <div class="form-group checkbox-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="taak-max-docenten-check">
                                        <span>Maximaal aantal teamleden voor deze taak</span>
                                    </label>
                                    <div id="taak-max-docenten-container" style="display: none; margin-top: 0.5rem;">
                                        <input type="number" id="taak-max-docenten" min="1" value="1"
                                            style="width: 80px;">
                                    </div>
                                </div>

                                <button type="submit" class="btn btn-primary">
                                    <span>‚ûï</span> Taak toevoegen
                                </button>
                            </form>
                        </div>
                    </div>

                    <!-- Right column: Taken Overzicht -->
                    <div class="card">
                        <h3>‚úÖ Takenoverzicht</h3>
                        <div id="taken-lijst" class="vakken-lijst">
                            <p class="empty-state">Nog geen taken aangemaakt.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Docenten View -->
            <section class="view" id="view-docenten">
                <div class="view-header">
                    <h2>Teamledenbeheer</h2>

                </div>

                <div class="docenten-layout">
                    <div class="card form-card">
                        <h3>‚ûï Teamlid toevoegen</h3>
                        <form id="form-docent">
                            <div class="form-group">
                                <label for="docent-naam">Naam (afkorting)</label>
                                <input type="text" id="docent-naam" placeholder="bijv. fwals" required>
                            </div>
                            <div class="modal-form-row">
                                <div class="form-group">
                                    <label for="docent-aanstelling">Aanstelling (bruto FTE)</label>
                                    <input type="number" id="docent-aanstelling" min="0" max="1.5" step="0.01"
                                        value="1.0" required>
                                </div>
                                <div class="form-group">
                                    <label for="docent-inhouding">Inhouding (FTE)</label>
                                    <input type="number" id="docent-inhouding" min="0" max="1" step="0.01" value="0">
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary">
                                <span>‚ûï</span> Teamlid toevoegen
                            </button>
                        </form>
                    </div>

                    <div class="card">
                        <h3>üë• Teamledenoverzicht</h3>
                        <div id="docenten-lijst" class="docenten-lijst">
                            <p class="empty-state">Nog geen teamleden toegevoegd.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Klassen View -->
            <section class="view" id="view-klassen">
                <div class="view-header">
                    <h2>Lessen</h2>
                </div>

                <div class="klassen-layout">
                    <!-- Selection Panel -->
                    <div class="card klassen-selectors">
                        <h3>üîç Selectie</h3>
                        <div class="form-group">
                            <label for="klassen-docent">Docent</label>
                            <select id="klassen-docent" required>
                                <option value="">-- Selecteer jezelf --</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="klassen-leerjaar">Leerjaar</label>
                            <select id="klassen-leerjaar" required>
                                <option value="">-- Selecteer leerjaar --</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="klassen-klas">Klas</label>
                            <select id="klassen-klas" required disabled>
                                <option value="">-- Selecteer eerst leerjaar --</option>
                            </select>
                        </div>

                        <div class="klassen-legenda">
                            <h4>Legenda</h4>
                            <div class="legenda-item">
                                <span class="legenda-box available"></span> Beschikbare leseenheid*
                            </div>
                            <div class="legenda-item">
                                <span class="legenda-box available dashed"></span> Beschikbare les**
                            </div>
                            <div class="legenda-item">
                                <span class="legenda-box mine"></span> Door jou geselecteerd
                            </div>
                            <div class="legenda-item">
                                <span class="legenda-box taken"></span> Door anderen geselecteerd
                            </div>
                            <div class="legenda-footnote">
                                <em>*Een eenheid = 30 minuten</em><br>
                                <em>**niet splitsbaar</em>
                            </div>
                        </div>
                    </div>

                    <!-- Curriculum per class -->
                    <div class="card klassen-curriculum">
                        <h3>üìÖ <span id="klassen-leerjaar-titel"></span> <span id="klassen-klas-titel"></span></h3>
                        <div id="klassen-curriculum-grid" class="klassen-grid">
                            <p class="empty-state">Selecteer een docent, leerjaar en klas om het curriculum te zien</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Taken View (Docent Task Selection) -->
            <section class="view" id="view-taken">
                <div class="view-header">
                    <h2>Taken Selecteren</h2>
                    <p>Selecteer de taken die je wilt uitvoeren</p>
                </div>

                <div class="taken-layout">
                    <!-- Selection Panel -->
                    <div class="card taken-selectors">
                        <h3>üîç Selectie</h3>
                        <div class="form-group">
                            <label for="taken-docent">Docent</label>
                            <select id="taken-docent" required>
                                <option value="">-- Selecteer jezelf --</option>
                            </select>
                        </div>
                    </div>

                    <!-- Available Tasks -->
                    <div class="card taken-lijst-container">
                        <h3>‚úÖ Beschikbare taken</h3>
                        <div id="taken-selectie-grid" class="taken-selectie-grid">
                            <p class="empty-state">Selecteer een docent om taken te zien</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Mijn Overzicht View -->
            <section class="view" id="view-verdeling">
                <div class="view-header">
                    <h2>Mijn Overzicht</h2>
                    <div class="docent-selector">
                        <label for="select-docent">Docent:</label>
                        <select id="select-docent">
                            <option value="">-- Selecteer jezelf --</option>
                        </select>
                    </div>
                </div>

                <div class="mijn-overzicht-layout">
                    <!-- Overview grid -->
                    <div class="card">
                        <h3>üéì Onderwijs</h3>
                        <div id="mijn-overzicht-grid" class="klassen-grid">
                            <p class="empty-state">Selecteer een docent om je overzicht te zien</p>
                        </div>
                    </div>
                    <div class="card">
                        <h3>üìã Taken</h3>
                        <div id="taken-grid" class="klassen-grid">
                            <p class="empty-state">Geen taken ingevoerd</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Dashboard View -->
            <section class="view" id="view-dashboard">
                <div class="view-header dashboard-header">
                    <div class="dashboard-title">
                        <h2>Dashboard</h2>
                        <div class="progress-overview">
                            <div class="progress-bar-container">
                                <div class="progress-bar" id="progress-bar"></div>
                            </div>
                            <span class="progress-text" id="progress-text">0% verdeeld</span>
                        </div>
                    </div>
                    <div class="dashboard-stats">
                        <div class="stat">
                            <span class="stat-value" id="stat-total">0</span>
                            <span class="stat-label">Totaal</span>
                        </div>
                        <div class="stat">
                            <span class="stat-value" id="stat-verdeeld">0</span>
                            <span class="stat-label">Verdeeld</span>
                        </div>
                        <div class="stat">
                            <span class="stat-value" id="stat-resterend">0</span>
                            <span class="stat-label">Resterend</span>
                        </div>
                        <div class="stat warning">
                            <span class="stat-value" id="stat-conflicten">0</span>
                            <span class="stat-label">Conflicten</span>
                        </div>
                    </div>
                </div>

                <!-- Conflicts Alert -->
                <div id="conflicten-container" class="conflicten-container" style="display:none;">
                    <h3>‚ö†Ô∏è Conflicten</h3>
                    <div id="conflicten-lijst"></div>
                </div>

                <!-- All Docents Grid - Full 4K view -->
                <div class="dashboard-grid" id="dashboard-grid">
                    <p class="empty-state">Voeg docenten toe om het dashboard te zien</p>
                </div>
            </section>

        </main>
    </div>

    <!-- Edit Vak Modal -->
    <div id="edit-vak-modal" class="modal" style="display: none;">
        <div class="modal-backdrop" onclick="closeEditVakModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-header-info">
                    <h3>Les bewerken</h3>
                    <span id="edit-vak-klassen-display" class="leerjaar-badge-style"></span>
                </div>
                <button class="modal-close" onclick="closeEditVakModal()">√ó</button>
            </div>
            <form id="form-edit-vak" class="modal-body">
                <input type="hidden" id="edit-vak-id">

                <div class="form-group">
                    <label for="edit-vak-naam">Lestitel *</label>
                    <input type="text" id="edit-vak-naam" required>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-vak-kleur">Kleur</label>
                        <input type="color" id="edit-vak-kleur" value="#6366f1">
                    </div>
                    <div class="form-group">
                        <label for="edit-vak-opslagfactor">VZNZ (%)</label>
                        <input type="number" id="edit-vak-opslagfactor" min="0" max="100" value="40">
                        <small class="form-hint">Standaard 40%</small>
                    </div>
                </div>

                <div class="form-group">
                    <label>Les bewerken in</label>
                    <div class="toggle-switch-container">
                        <span class="toggle-label toggle-label-left edit-vak-type-label active"
                            data-value="basisweken">basisweken</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="edit-vak-type-toggle">
                            <span class="toggle-slider"></span>
                        </label>
                        <span class="toggle-label toggle-label-right edit-vak-type-label"
                            data-value="ontwikkelweken">ontwikkelweken</span>
                        <input type="hidden" id="edit-vak-type-value" value="basisweken">
                    </div>
                    <small class="form-hint" id="edit-eenheden-label">Aantal eenheden per basisweek</small>
                </div>

                <div id="edit-periodes-container">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-vak-p1">P1</label>
                            <input type="number" id="edit-vak-p1" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-vak-p2">P2</label>
                            <input type="number" id="edit-vak-p2" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-vak-p3">P3</label>
                            <input type="number" id="edit-vak-p3" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-vak-p4">P4</label>
                            <input type="number" id="edit-vak-p4" min="0" value="0">
                        </div>
                    </div>
                </div>

                <div id="edit-ow-container" style="display: none;">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-vak-ow1">OW1</label>
                            <input type="number" id="edit-vak-ow1" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-vak-ow2">OW2</label>
                            <input type="number" id="edit-vak-ow2" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-vak-ow3">OW3</label>
                            <input type="number" id="edit-vak-ow3" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-vak-ow4">OW4</label>
                            <input type="number" id="edit-vak-ow4" min="0" value="0">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-vak-ow5">OW5</label>
                            <input type="number" id="edit-vak-ow5" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-vak-ow6">OW6</label>
                            <input type="number" id="edit-vak-ow6" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-vak-ow7">OW7</label>
                            <input type="number" id="edit-vak-ow7" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-vak-ow8">OW8</label>
                            <input type="number" id="edit-vak-ow8" min="0" value="0">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Deze les is</label>
                    <div class="toggle-switch-container">
                        <span class="toggle-label toggle-label-left edit-splitsbaar-label active"
                            data-value="splitsbaar">splitsbaar</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="edit-vak-splitsbaar-toggle">
                            <span class="toggle-slider"></span>
                        </label>
                        <span class="toggle-label toggle-label-right edit-splitsbaar-label"
                            data-value="niet-splitsbaar">niet splitsbaar</span>
                        <input type="hidden" id="edit-vak-splitsbaar-value" value="true">
                    </div>
                    <small class="form-hint" id="edit-splitsbaar-hint">Docenten kunnen eenheden
                        selecteren</small>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeEditVakModal()">Annuleren</button>
                    <button type="button" class="btn btn-primary" onclick="closeEditVakModal(); saveEditVak();">üíæ
                        Opslaan</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Taak Modal -->
    <div id="edit-taak-modal" class="modal" style="display: none;">
        <div class="modal-backdrop" onclick="closeEditTaakModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Taak bewerken</h3>
                <button class="modal-close" onclick="closeEditTaakModal()">√ó</button>
            </div>
            <form id="form-edit-taak" class="modal-body">
                <input type="hidden" id="edit-taak-id">

                <div class="form-group">
                    <label for="edit-taak-naam">Taaknaam *</label>
                    <input type="text" id="edit-taak-naam" required>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-taak-kleur">Kleur</label>
                        <input type="color" id="edit-taak-kleur" value="#6366f1">
                    </div>
                    <div class="form-group">
                        <label for="edit-taak-totaal-uren">Totaal klokuren per jaar *</label>
                        <input type="number" id="edit-taak-totaal-uren" min="0" step="0.5" required>
                    </div>
                </div>

                <div class="form-group">
                    <label>Verdeling</label>
                    <div class="toggle-switch-container">
                        <span class="toggle-label toggle-label-left edit-taak-verdeling-label active"
                            data-value="gelijk">spreiden</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="edit-taak-verdeling-toggle">
                            <span class="toggle-slider"></span>
                        </label>
                        <span class="toggle-label toggle-label-right edit-taak-verdeling-label"
                            data-value="afwijkend">afwijkend</span>
                        <input type="hidden" id="edit-taak-verdeling-value" value="gelijk">
                    </div>
                    <small class="form-hint" id="edit-taak-verdeling-hint">Uren worden gespreid over alle
                        periodes</small>
                </div>

                <div id="edit-taak-periodes-container" style="display: none;">
                    <label>Uren per periode</label>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-taak-p1">P1</label>
                            <input type="number" id="edit-taak-p1" min="0" step="0.5" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-taak-p2">P2</label>
                            <input type="number" id="edit-taak-p2" min="0" step="0.5" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-taak-p3">P3</label>
                            <input type="number" id="edit-taak-p3" min="0" step="0.5" value="0">
                        </div>
                        <div class="form-group">
                            <label for="edit-taak-p4">P4</label>
                            <input type="number" id="edit-taak-p4" min="0" step="0.5" value="0">
                        </div>
                    </div>
                </div>

                <div class="form-group checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="edit-taak-voor-iedereen">
                        <span>Taak voor alle teamleden</span>
                    </label>
                </div>

                <div class="form-group checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="edit-taak-max-docenten-check">
                        <span>Maximaal aantal teamleden voor deze taak</span>
                    </label>
                    <div id="edit-taak-max-docenten-container" style="display: none; margin-top: 0.5rem;">
                        <input type="number" id="edit-taak-max-docenten" min="1" value="1" style="width: 80px;">
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeEditTaakModal()">Annuleren</button>
                    <button type="button" class="btn btn-primary" onclick="closeEditTaakModal(); saveEditTaak();">üíæ
                        Opslaan</button>
                </div>
            </form>
        </div>
    </div>


    <!-- Edit Docent Modal -->
    <div id="edit-docent-modal" class="modal" style="display: none;">
        <div class="modal-backdrop" onclick="closeEditDocentModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Teamlid bewerken</h3>
                <button class="modal-close" onclick="closeEditDocentModal()">√ó</button>
            </div>
            <form id="form-edit-docent">
                <input type="hidden" id="edit-docent-id">

                <div class="form-group">
                    <label for="edit-docent-naam">Naam</label>
                    <input type="text" id="edit-docent-naam" required>
                </div>

                <div class="modal-form-row">
                    <div class="form-group">
                        <label for="edit-docent-aanstelling">Aanstelling (bruto FTE)</label>
                        <input type="number" id="edit-docent-aanstelling" min="0" max="1.5" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-docent-inhouding">Inhouding (FTE)</label>
                        <input type="number" id="edit-docent-inhouding" min="0" max="1" step="0.01">
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeEditDocentModal()">Annuleren</button>
                    <button type="button" class="btn btn-primary" onclick="closeEditDocentModal(); saveEditDocent();">üíæ
                        Opslaan</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Leerjaar Modal -->
    <div id="edit-leerjaar-modal" class="modal" style="display: none;">
        <div class="modal-backdrop" onclick="closeEditLeerjaarModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>‚úèÔ∏è Leerjaar bewerken</h3>
                <button type="button" class="modal-close" onclick="closeEditLeerjaarModal()">√ó</button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="edit-leerjaar-naam">
                <h4 id="edit-leerjaar-titel"></h4>
                <p class="form-hint">Klik op üóëÔ∏è om een klas te verwijderen (alleen mogelijk als er geen geselecteerde
                    lessen zijn)</p>
                <div id="edit-leerjaar-klassen-lijst" class="klassen-edit-lijst"></div>
                <div class="form-group" style="margin-top: var(--space-md);">
                    <label for="edit-leerjaar-nieuwe-klas">Nieuwe klas toevoegen</label>
                    <div class="input-button-row">
                        <input type="text" id="edit-leerjaar-nieuwe-klas" placeholder="bijv. 1CMD5">
                        <button type="button" class="btn btn-secondary" onclick="addKlasToLeerjaar()">‚ûï
                            Toevoegen</button>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-ghost" onclick="closeEditLeerjaarModal()">Annuleren</button>
                <button type="button" class="btn btn-primary" onclick="saveEditLeerjaar()">üíæ Opslaan</button>
            </div>
        </div>
    </div>

    <!-- Role Selection Modal -->
    <div id="role-selection-modal" class="modal" style="display: none;">
        <div class="modal-backdrop"></div>
        <div class="modal-content role-selection-content">
            <div class="modal-header">
                <h3>Welkom bij de Werkverdelingsapp</h3>
            </div>
            <div class="modal-body role-selection-body">
                <p>Selecteer je rol om te beginnen:</p>
                <div class="role-buttons">
                    <button type="button" class="btn btn-role" onclick="setUserRole('teamleider')">
                        <span class="role-icon">üì¢</span>
                        <span class="role-title">Ik ben teamleider of onderwijsplanner</span>
                        <span class="role-desc">Volledige toegang: lessen, taken en teamleden beheren</span>
                    </button>
                    <button type="button" class="btn btn-role" onclick="setUserRole('teamlid')">
                        <span class="role-icon">üë§</span>
                        <span class="role-title">Ik ben teamlid</span>
                        <span class="role-desc">Klassen en taken bekijken, werkverdeling doen</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>